"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[166],{166:function(e,t,n){n.r(t);var r=n(433),o=n(439),i=n(791),u=n(87),c=n(689),a=n(184);t.default=function(e){var t,s=e.onMovieDetails,l=(0,i.useState)([]),f=(0,o.Z)(l,2),h=f[0],d=f[1],m=(0,u.lr)(),p=(0,o.Z)(m,2),v=p[0],j=p[1],y=null!==(t=v.get("query"))&&void 0!==t?t:"",J=(0,c.TH)();return(0,i.useEffect)((function(){if(""!==y){n(359)("https://api.themoviedb.org/3/search/movie?query=".concat(y),{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkMmY4ZmJiYzMwMTNlY2I1MDY0MGFmMDE0NDA1Nzc0YyIsInN1YiI6IjY0YjRlYTdiNjI5YjJjMDEzYzQzMDJhZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.GHtJMZzPbE8SRwlwTEx3-peT33LPisCOv3lEOiFCJVM"}}).then((function(e){return e.json()})).then((function(e){return d((0,r.Z)(e.results))})).catch((function(e){return console.error("error:"+e)}))}}),[y]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;if(""===t.elements.query.value)return j({});j({query:t.elements.query.value}),t.reset()},children:[(0,a.jsx)("input",{type:"text",name:"query",autoComplete:"off",autoFocus:!0,placeholder:"Search movie name"}),(0,a.jsx)("button",{type:"submit",children:"Search"})]}),(0,a.jsx)("div",{className:"movie-list",children:h.map((function(e){var t=e.id,n=e.original_title;return(0,a.jsx)(u.rU,{to:"/movies/".concat(t),state:{from:J},onClick:function(){s(t)},children:n},t)}))})]})}},359:function(e,t,n){var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response}}]);
//# sourceMappingURL=166.a6fe91f8.chunk.js.map